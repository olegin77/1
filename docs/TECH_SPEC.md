WeddingTech UZ — Техническое задание (v0.1, 2025-10-13)
0. Резюме и цели

WeddingTech UZ — двухсторонняя платформа для свадебного рынка Узбекистана:

B2C: бесплатные инструменты планирования свадьбы (чек-лист, бюджет, гости/RSVP/посадка, сайт пары) и маркетплейс площадок/поставщиков.

B2B: профиль поставщика/тойханы, приём заявок (Enquiry Manager с CRM-статусами), календарь доступности, акции/«поздняя доступность», отзывы, аналитика и продвижение.

Обоснование рынка и сроки: в Узбекистане >305 тыс. браков в год, выраженная сезонность (пик — октябрь/ноябрь). Чтобы поймать осенний пик, платформа должна быть функционально готова к весне; MVP — в Q1–Q2. 

Экспертный Отчет_ Стратегия Циф…

 

Экспертный Отчет_ Стратегия Циф…


Финмодель (год 1, конспект из отчёта): фокус на B2B-SaaS-монетизации; целевая выручка ~5 млрд UZS при положительном итоговом результате. 

Экспертный Отчет_ Стратегия Циф…

 

Экспертный Отчет_ Стратегия Циф…

1. Бенчмарк: ключевые фичи Bridebook, которые мы должны покрыть
1.1 Инструменты планирования для пар

Гостевой список + RSVPs: учёт приглашений/ответов, диет, +1; линк с сайтом пары и онлайн-RSVP в реальном времени. 
Bridebook
+2
support.bridebook.com
+2

Чек-лист и бюджет-планер — в одном приложении; старт легко после регистрации. 
Bridebook
+2
Google Play
+2

Поиск площадок/поставщиков с фильтрами по локации, бюджету, стилю, вместимости и наличию спецпредложений/late availability. 
Bridebook
+2
Bridebook
+2

Шорт-лист избранных поставщиков. 
Bridebook

Мобильное приложение (в перспективе). 
Google Play

1.2 B2B для поставщиков/тойхан

Профили бизнеса с портфолио, прайсами и модерацией качества. 
partners.bridebook.com

Enquiry Manager/CRM-лайт: приём целевых лидов, статусы, коммуникация. 
partners.bridebook.com

Продвижение и офферы: открытые дни, поздняя доступность, спецпредложения. 
partners.bridebook.com
+1

Масштаб и охват (как ориентир): миллионы планировок/гостей, десятки тысяч бизнесов. 
partners.bridebook.com

2. Локализация под Узбекистан (дифференциаторы)

Большие тойы (500+ гостей) → масштабируемые гостевые списки, посадка по столам, печать/экспорт. 

Экспертный Отчет_ Стратегия Циф…

Традиционные этапы в чек-листе (Келин салом, Узатиш и т.д.). 

Экспертный Отчет_ Стратегия Циф…

Приоритет категории «Тойхана»: медиа высокого качества и интеграция 3D-туров. 

Экспертный Отчет_ Стратегия Циф…

Модерируемые отзывы только от подтверждённых пар (contract-based). 

Экспертный Отчет_ Стратегия Циф…

Двуязычие RU/UZ с возможностью расширения на EN.

Платёжные/финансовые опции (кредит/рассрочка) — этап 2. 

Экспертный Отчет_ Стратегия Циф…

3. Объём MVP (версия 0.1)
3.1 B2C (пары)

Регистрация (email/телефон), профиль пары, дата/город.

Гости/RSVP: импорт CSV/Excel (≥10k строк), статусы (приглашён/придёт/не идёт/не ответил), диеты, +1, посадка (столы N мест).

Чек-лист (включая местные традиции), бюджет с категориями и факт-тратами.

Каталог: поиск по локации, цене, рейтингу, вместимости, доступности по дате. 

Экспертный Отчет_ Стратегия Циф…

Сайт пары + онлайн-RSVP (конструктор шаблонов).

3.2 B2B (поставщики/тойханы)

Личный кабинет: профиль/портфолио/прайс/FAQ/документы-доказательства. 

Экспертный Отчет_ Стратегия Циф…

Enquiry Manager (CRM-лайт): статусы «NEW → QUOTED → CONTRACT_SIGNED → WON/LOST», заметки, вложения. 

Экспертный Отчет_ Стратегия Циф…

Календарь доступности, спецпредложения/«late availability».

3.3 Админ-панель

Модерация профилей/медиа/отзывов, справочники (категории, города, валюты), локализация RU/UZ.

4. Архитектура и стек
4.1 Текущий репозиторий

Monorepo (Node.js), сервис apps/svc-enquiries (NestJS + Prisma) уже создан и должен покрывать заявки (enquiries) и статусы переходов.

Хранилище: PostgreSQL.

Клиент: Next.js фронтенд (уже в репо).

По умолчанию — Docker Compose для локалки.

4.2 Сервисы (микросервисы/модули)

svc-enquiries (NestJS): заявки/ответы/статусы/комм-лог.

svc-vendors: профили поставщиков/тойхан, тарифы, верификация.

svc-catalog: поиск/фильтры/индексация, расчёт сортировки.

svc-guests: списки гостей/RSVP/посадка.

svc-website: генерация сайта пары и публичные RSVP-эндпойнты.

svc-auth: JWT/OAuth2, роли (PAIR, VENDOR, ADMIN).

svc-billing (этап 2): платежи, кредиты/рассрочка. 

Экспертный Отчет_ Стратегия Циф…

5. Данные и модели (ядро, Prisma-ориентир)
5.1 Основные сущности

User(id, role, phone/email, locale, password_hash)

Couple(id, userId, weddingDate, city)

Vendor(id, ownerUserId, type, name, city, capacityMin/Max, priceFrom, rating, verified, documents[])

Venue(id, vendorId, capacity, address, geo, media[], has3DTour, specialOffers[])

Enquiry(id, coupleId, vendorId, date, budget, status, notes, source) — статусы как в CRM-лайт. 

Экспертный Отчет_ Стратегия Циф…

Review(id, coupleId, vendorId, rating, text, verifiedContract=true) — только после подтверждённого контракта. 

Экспертный Отчет_ Стратегия Циф…

Guest(id, coupleId, name, phone, RSVP, diet, plusOne, tableId?)

Table(id, coupleId, name, seats, order)

BudgetItem(id, coupleId, category, planned, actual)

AvailabilitySlot(id, vendorId, date, status)

Offer(id, vendorId, title, type: {LateAvailability|Special}, validFrom/To)

(Примечание: вместимость 500+ и большие списки гостей — обязательное масштабирование API и БД.) 

Экспертный Отчет_ Стратегия Циф…

6. API (MVP, REST; все ответы JSON)

База: /api/v1.

6.1 Auth

POST /auth/register {role: "PAIR"|"VENDOR", ...} → 201

POST /auth/login → {accessToken, refreshToken}

6.2 Enquiries (svc-enquiries)

POST /enquiries (PAIR→VENDOR): {vendorId, date, budget, notes} → 201

GET /enquiries?status=NEW&vendorId=... (VENDOR) → список

PATCH /enquiries/:id (VENDOR): {status, priceQuote?, notes?} – проверка переходов; «NEW→QUOTED→CONTRACT_SIGNED→WON/LOST».

GET /enquiries/:id – детально.
(Контракты статусов и валидации уже заложены в сервис — сохраняем совместимость.)

6.3 Vendors/Venues (svc-vendors)

POST /vendors (создать профиль); PATCH /vendors/:id; GET /vendors/:id

POST /vendors/:id/documents (верификация)

GET /vendors?city=Tashkent&capacity>=500&date=2025-10-10 (поиск) — фильтры как у Bridebook: локация, цена, рейтинг, вместимость, дата-доступность, спецпредложения. 
Bridebook
+2
Bridebook
+2

6.4 Guests/RSVP/Seating (svc-guests)

POST /guests/import (CSV/Excel)

GET /guests / PATCH /guests/:id (RSVP/диеты/+1)

POST /tables / PATCH /tables/:id — столы и рассадка.

6.5 Website & RSVP (svc-website)

POST /website (генерация шаблона RU/UZ)

Публичное: POST /rsvp/:slug (гость) — записывает ответ. 
support.bridebook.com

7. Поиск и ранжирование (svc-catalog)

Поля индексации: город/регион, тип, вместимость, ценовой диапазон, рейтинг, наличие спецпредложений/late availability, доступность по дате. 
Bridebook
+1

Сигналы ранжирования: конверсия ответов на заявки (WON/CONTRACT_SIGNED), рейтинг/верификация, полнота профиля, актуальность календаря.

8. Нефункциональные требования

Производительность: списки гостей до 20k записей, ответы API <300 мс p95, экспорты/импорты — очереди.

Надёжность: idempotency-ключи на импорт/RSVP; ретраи; хранение файлов в S3-совместимом стораже.

Безопасность: JWT, scoped roles, модерация медиа/отзывов (только подтверждённые пары). 

Экспертный Отчет_ Стратегия Циф…

i18n: RU/UZ; дата/валюта локалей.

Доступность: WCAG AA для публичного сайта пары.

Аудит/события: все переходы статусов в enquiries логируются.

9. UX-потоки (кратко)

Пара: онбординг → выбор даты/города → чек-лист/бюджет → поиск тойханы по вместимости 500+ и дате → заявка → сайт пары → рассылка ссылки на RSVP → сбор ответов/посадка. (Вместимость и дата — ключевые фильтры.) 

Экспертный Отчет_ Стратегия Циф…

 

Экспертный Отчет_ Стратегия Циф…

Поставщик/тойхана: регистрация → загрузка портфолио/документов → настройка календаря и офферов → приём заявок в Enquiry Manager → конверсия в контракт/отзыв.

10. Аналитика и метрики

B2B: воронка заявок (NEW→…→WON), средний чек, загрузка дат, эффективность офферов, источники лидов.

B2C: прогресс чек-листа, бюджет vs фактическое, конверсия поиска в заявки, RSVP-ответы.

Системное: p95/пулы соединений/ошибки; событийная шина для BI.

11. CI/CD и ветвление

Рабочая ветка ИИ: codex, прод: main.

GitHub Actions: один workflow auto-merge-codex.yml (push на codex + workflow_dispatch) → создаёт/обновляет PR в main, включает auto-merge (squash).

Required checks: линтер, юнит-тесты, миграции на тестовой БД, сборка.

Codex-цикл: systemd user-timer запускает codex_loop.sh каждые 5 минут; если коммитов нет — PR не создаётся/не обновляется.

12. План релизов (укрупнённо, привязка к сезонности)

Этап 0 (≤2 недели): каркас сервисов, Auth, базовые схемы БД, админ-модерация.

Этап 1 (≤4–6 недель): B2C ядро (гости/RSVP/посадка, чек-лист, бюджет), каталог и фильтры, сайт пары.

Этап 2 (≤4 недели): B2B кабинет, Enquiry Manager, календарь/офферы, отзывы-по-контракту.

Этап 3: мобильный веб-апп/мобилко, фин-интеграции (кредит/рассрочка). (Фин-этап обоснован в отчёте.) 

Экспертный Отчет_ Стратегия Циф…

Тайминг синхронизируем с целью «готово к весне → осенний пик». 

Экспертный Отчет_ Стратегия Циф…

13. Критерии готовности (DoD) для MVP

Поиск тойхан/поставщиков работает по городу/цене/рейтингу/вместимости/дате; выдача ≤200 мс p95 на 1k карточек в индексе.

Импорт гостей 10k+; онлайн-RSVP; генерация схемы посадки.

Enquiry Manager со статусами/заметками; бизнес-профили с документами.

PR codex→main автосоздаётся; автослияние при green checks.

Базовая аналитика в кабинете поставщика: конверсия лидов, загрузка дат.

14. Ссылки на конкурента/референсы

Гости/RSVP + сайт пары: support/guest list & website/RSVP. 
support.bridebook.com
+1

Инструменты планирования: чек-лист/бюджет/гости. 
Bridebook
+1

Поиск площадок (фильтры, вместимость, спецпредложения/late availability). 
Bridebook
+2
Bridebook
+2

B2B витрина/лиды/менеджер заявок/продвижение. 
partners.bridebook.com
+1

Масштаб (соц-доказательства). 
partners.bridebook.com
